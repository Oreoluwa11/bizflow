{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/HP/Personal%20Folder/bizflow/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://placeholder.supabase.co',\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 'placeholder-key'\n  )\n}\n"],"names":[],"mappings":";;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,oMAAmB,EACxB,gFAAwC,mCACxC,wPAA6C;AAEjD"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/HP/Personal%20Folder/bizflow/components/auth/AuthProvider.tsx"],"sourcesContent":["\"use client\"; // This directive tells Next.js that this component runs in the browser (client-side), allowing us to use React hooks like useState and useEffect.\n\nimport { createContext, useContext, useEffect, useState } from \"react\"; // Import necessary React hooks for managing state, side effects, and context.\nimport { User, Session } from \"@supabase/supabase-js\"; // Import types for User and Session from the Supabase client library.\nimport { createClient } from \"@/lib/supabase/client\"; // Import our helper function to create a Supabase client instance.\nimport { useRouter } from \"next/navigation\"; // Import the Next.js router hook to programmatic navigation (like redirecting).\n\n// Define the shape of our authentication context data. This tells TypeScript what kind of data we are sharing across the app.\ninterface AuthContextType {\n  user: User | null; // The current user object, or null if not logged in.\n  session: Session | null; // The current active session, or null if no session exists.\n  isLoading: boolean; // A flag to indicate if we are currently checking authentication status (true = loading).\n  signOut: () => Promise<void>; // A function we can call to log the user out. It returns a Promise (async).\n}\n\n// Create the context object with default/initial values.\n// These default values are used if a component tries to use this context outside of an <AuthProvider>.\nconst AuthContext = createContext<AuthContextType>({\n  user: null, // Default: no user.\n  session: null, // Default: no session.\n  isLoading: true, // Default: we assume we are loading initially.\n  signOut: async () => {}, // Default: an empty function that does nothing.\n});\n\n// The main Provider component. This will wrap our entire application (or parts of it) to provide auth data to all children.\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null); // State variable to hold the current user. Starts as null.\n  const [session, setSession] = useState<Session | null>(null); // State variable to hold the current session. Starts as null.\n  const [isLoading, setIsLoading] = useState(true); // State variable for loading status. Starts as true (loading).\n  const router = useRouter(); // Initialize the Next.js router so we can redirect users.\n  const supabase = createClient(); // Initialize the Supabase client to interact with our backend.\n\n  // useEffect runs specific code when the component mounts (loads) or when its dependencies change.\n  useEffect(() => {\n    // 1. Check for an identifiable active session correctly when the app initially loads.\n    const checkUser = async () => {\n      // Get the current session from Supabase.\n      const {\n        data: { session },\n      } = await supabase.auth.getSession();\n\n      // Update our local state with the session data found.\n      setSession(session);\n      // Update the user state. If session exists, use its user; otherwise null.\n      setUser(session?.user ?? null);\n      // We are done checking, so set loading to false.\n      setIsLoading(false);\n    };\n\n    checkUser(); // Call the function we just defined.\n\n    // 2. Set up a listener to react to real-time changes in authentication state (e.g., user signs in or out).\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      // Update session state with the new session.\n      setSession(session);\n      // Update user state with the new user.\n      setUser(session?.user ?? null);\n      // Ensure loading is false (we know the state now).\n      setIsLoading(false);\n      // Refresh the Next.js router. This re-runs server components to ensure they reflect the new auth state (like updating protected routes).\n      router.refresh();\n    });\n\n    // implementation of the cleanup function.\n    // This runs when the component unmounts (rare for a root provider) to stop listening for changes.\n    return () => subscription.unsubscribe();\n  }, [router, supabase]); // Dependencies: if 'router' or 'supabase' changes, re-run this effect (unlikely to change often).\n\n  // Define a function to sign the user out.\n  const signOut = async () => {\n    // Call Supabase's signOut method to clear the session on the server/backend.\n    await supabase.auth.signOut();\n    // Redirect the user to the login page immediately after signing out.\n    router.push(\"/login\");\n    // Note: router.refresh() happens in the onAuthStateChange listener above, so we don't need it here.\n  };\n\n  // Render the Context Provider.\n  // We pass the current state (user, session, isLoading) and the signOut function into the 'value' prop.\n  // {children} represents all the components inside this Provider (your whole app).\n  return (\n    <AuthContext.Provider value={{ user, session, isLoading, signOut }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\n// A custom hook to easily access this context from any component in the app.\n// Instead of importing useContext and AuthContext every time, you just import useAuth().\nexport const useAuth = () => useContext(AuthContext);\n"],"names":[],"mappings":";;;;;;;AAEA,mRAAwE,8EAA8E;AAEtJ,0NAAsD,mEAAmE;AACzH,4OAA6C,gFAAgF;;;AAL7H,cAAc,kJAAkJ;;;;AAehK,yDAAyD;AACzD,uGAAuG;AACvG,MAAM,4BAAc,IAAA,8KAAa,EAAkB;IACjD,MAAM;IACN,SAAS;IACT,WAAW;IACX,SAAS,WAAa;AACxB;AAGO,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc,OAAO,2DAA2D;IAChH,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB,OAAO,8DAA8D;IAC5H,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC,OAAO,+DAA+D;IACjH,MAAM,SAAS,IAAA,kJAAS,KAAI,0DAA0D;IACtF,MAAM,WAAW,IAAA,4IAAY,KAAI,+DAA+D;IAEhG,kGAAkG;IAClG,IAAA,0KAAS;kCAAC;YACR,sFAAsF;YACtF,MAAM;oDAAY;oBAChB,yCAAyC;oBACzC,MAAM,EACJ,MAAM,EAAE,OAAO,EAAE,EAClB,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;oBAElC,sDAAsD;oBACtD,WAAW;oBACX,0EAA0E;oBAC1E,QAAQ,SAAS,QAAQ;oBACzB,iDAAiD;oBACjD,aAAa;gBACf;;YAEA,aAAa,qCAAqC;YAElD,2GAA2G;YAC3G,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,SAAS,IAAI,CAAC,iBAAiB;0CAAC,CAAC,QAAQ;oBAC3C,6CAA6C;oBAC7C,WAAW;oBACX,uCAAuC;oBACvC,QAAQ,SAAS,QAAQ;oBACzB,mDAAmD;oBACnD,aAAa;oBACb,yIAAyI;oBACzI,OAAO,OAAO;gBAChB;;YAEA,0CAA0C;YAC1C,kGAAkG;YAClG;0CAAO,IAAM,aAAa,WAAW;;QACvC;iCAAG;QAAC;QAAQ;KAAS,GAAG,kGAAkG;IAE1H,0CAA0C;IAC1C,MAAM,UAAU;QACd,6EAA6E;QAC7E,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,qEAAqE;QACrE,OAAO,IAAI,CAAC;IACZ,oGAAoG;IACtG;IAEA,+BAA+B;IAC/B,uGAAuG;IACvG,kFAAkF;IAClF,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAW;QAAQ;kBAC9D;;;;;;AAGP;GA9DgB;;QAIC,kJAAS;;;KAJV;AAkET,MAAM,UAAU;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAW;IAAtC"}}]
}